<!DOCTYPE html>
<html>
<head>
  <title>All Uploaded Videos</title>
</head>
<body>
  <h1>Uploaded Videos</h1>
  <div id="video-list"></div>

  <script>
    async function loadVideos() {
      let response = await fetch("/api/videos");
      let videos = await response.json();
      
      let container = document.getElementById("video-list");
      container.innerHTML = videos.map(v => `
        <div style="margin-bottom:20px; border:1px solid #ccc; padding:10px;">
          <h3>${v.title} (${v.ageRating})</h3>
          <p><b>Publisher:</b> ${v.publisher}</p>
          <p><b>Producer:</b> ${v.producer}</p>
          <p><b>Genre:</b> ${v.genre}</p>
          <iframe width="420" height="236"
            src="https://www.youtube.com/embed/${v.url.split('v=')[1]}"
            frameborder="0"
            allowfullscreen>
          </iframe>
        </div>
      `).join("");
    }
    loadVideos();
  </script>
</body>
</html>
